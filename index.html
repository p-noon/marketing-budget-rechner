<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Break-Even Werbebudget Rechner</title>
<style>
  body {
    font-family: 'Inter', sans-serif;
    background: #fafafa;
    color: #222;
    max-width: 720px;
    margin: 40px auto;
    padding: 0 20px;
  }

  h1 {
    font-size: 1.9rem;
    font-weight: 600;
    text-align: center;
    margin-bottom: 1.6rem;
  }

  p {
    color: #555;
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 2rem;
    text-align: center;
  }

  .input-group {
    display: grid;
    grid-template-columns: 1fr 120px;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
  }

  label {
    font-weight: 500;
    font-size: 0.95rem;
  }

  input {
    width: 100%;
    padding: 7px 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 0.95rem;
  }

  button {
    width: 100%;
    background: #6c47ff;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1rem;
    margin-top: 10px;
    cursor: pointer;
  }

  button:hover {
    background: #5738d6;
  }

  .results {
    display: none;
    margin-top: 25px;
    background: white;
    border-radius: 14px;
    padding: 18px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  .result-box {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
    margin-top: 12px;
  }

  .result {
    background: #f9f9ff;
    border-radius: 12px;
    padding: 14px 16px;
  }

  .result strong {
    display: block;
    font-size: 1.2rem;
    margin-top: 4px;
    color: #000;
  }

  #warning {
    display: none;
    background: #ffe8e8;
    color: #b30000;
    border-radius: 10px;
    padding: 12px 16px;
    font-size: 0.95rem;
    margin-top: 15px;
  }

  footer {
    margin-top: 40px;
    text-align: center;
    font-size: 0.8rem;
    color: #666;
  }

  footer a {
    color: #6c47ff;
    text-decoration: none;
    font-weight: 500;
  }
</style>
</head>
<body>

<h1>Break-Even Werbebudget Rechner</h1>
<p>
Finde heraus, wie hoch dein Werbebudget maximal sein darf, um bei gegebener Marge und ROAS
noch profitabel zu bleiben – oder welchen <strong>ROAS du brauchst, um deine externen Kosten zu decken.</strong><br><br>
Alle Beträge bitte in Euro eingeben. Der Rechner berücksichtigt automatisch 19 % MwSt.
</p>

<div class="input-group">
  <label>Ø Bestellwert (brutto)</label>
  <input id="avgOrder" type="number" placeholder="z. B. 60" />
</div>

<div class="input-group">
  <label>Variable Kosten pro Bestellung</label>
  <input id="variableCost" type="number" placeholder="z. B. 20" />
</div>

<div class="input-group">
  <label>Handling / Versand pro Bestellung</label>
  <input id="handlingCost" type="number" placeholder="z. B. 10" />
</div>

<div class="input-group">
  <label>Marge (%)</label>
  <input id="margin" type="number" placeholder="z. B. 40" />
</div>

<hr style="margin:25px 0; border:none; border-top:1px solid #eee;">

<div class="input-group">
  <label>Externe Kosten (Agentur etc.)</label>
  <input id="fixedPro" type="number" placeholder="z. B. 1000" />
</div>

<div class="input-group">
  <label>Erwarteter ROAS (Agentur)</label>
  <input id="roasPro" type="number" step="0.1" placeholder="z. B. 3.0" />
</div>

<div class="input-group">
  <label>Eigene Kosten (Inhouse)</label>
  <input id="fixedSelf" type="number" placeholder="z. B. 0" />
</div>

<div class="input-group">
  <label>Erwarteter ROAS (Inhouse)</label>
  <input id="roasSelf" type="number" step="0.1" placeholder="z. B. 2.0" />
</div>

<button onclick="calcBudget()">Berechnen</button>

<div id="warning">⚠️ Deine variablen Kosten übersteigen den Nettoerlös pro Bestellung. Bitte überprüfe deine Eingaben.</div>

<div id="results" class="results">
  <div class="result-box">
    <div class="result">
      <label>Max. Werbebudget (Agentur)</label>
      <strong id="budgetPro">–</strong>
      <small>für Break-Even bei angegebenem ROAS</small>
    </div>
    <div class="result">
      <label>Erforderlicher ROAS (Agentur)</label>
      <strong id="roasMinPro">–</strong>
      <small>um externe Kosten auszugleichen</small>
    </div>
    <div class="result">
      <label>Max. Werbebudget (Inhouse)</label>
      <strong id="budgetSelf">–</strong>
      <small>für Break-Even bei angegebenem ROAS</small>
    </div>
    <div class="result">
      <label>Erforderlicher ROAS (Inhouse)</label>
      <strong id="roasMinSelf">–</strong>
      <small>um interne Kosten auszugleichen</small>
    </div>
  </div>
</div>

<footer>
Erstellt mit ❤️ von <a href="https://purple-noon.de" target="_blank">purple-noon.de</a>
</footer>

<script>
function calcBudget() {
  const avgOrderGross = +document.getElementById("avgOrder").value || 0;
  const variable = +document.getElementById("variableCost").value || 0;
  const handling = +document.getElementById("handlingCost").value || 0;
  const vat = 0.19;

  const marginPct = (+document.getElementById("margin").value || 0) / 100;
  const fixedPro = +document.getElementById("fixedPro").value || 0;
  const roasPro = +document.getElementById("roasPro").value || 0;
  const fixedSelf = +document.getElementById("fixedSelf").value || 0;
  const roasSelf = +document.getElementById("roasSelf").value || 0;

  const avgOrderNet = avgOrderGross / (1 + vat);
  const profitPerOrderNet = avgOrderNet * marginPct - variable - handling;

  const warning = document.getElementById("warning");
  if (profitPerOrderNet <= 0) {
    warning.style.display = "block";
    document.getElementById("results").style.display = "none";
    return;
  } else {
    warning.style.display = "none";
  }

  // --- Agentur ---
  const revenuePro = avgOrderGross * roasPro; 
  const netRevPro = revenuePro / (1 + vat);
  const retainedPerEuroPro = (netRevPro * marginPct - variable - handling) / revenuePro; 
  const budgetPro = fixedPro / retainedPerEuroPro;
  const roasMinPro = (budgetPro * (1 + vat)) / avgOrderGross;

  // --- Eigenleistung ---
  const revenueSelf = avgOrderGross * roasSelf;
  const netRevSelf = revenueSelf / (1 + vat);
  const retainedPerEuroSelf = (netRevSelf * marginPct - variable - handling) / revenueSelf;
  const budgetSelf = fixedSelf / retainedPerEuroSelf;
  const roasMinSelf = (budgetSelf * (1 + vat)) / avgOrderGross;

  document.getElementById("budgetPro").innerText = isFinite(budgetPro) ? budgetPro.toFixed(0) + " €" : "–";
  document.getElementById("budgetSelf").innerText = isFinite(budgetSelf) ? budgetSelf.toFixed(0) + " €" : "–";
  document.getElementById("roasMinPro").innerText = isFinite(roasMinPro) ? roasMinPro.toFixed(2) : "–";
  document.getElementById("roasMinSelf").innerText = isFinite(roasMinSelf) ? roasMinSelf.toFixed(2) : "–";
  document.getElementById("results").style.display = "block";
}
</script>

</body>
</html>
